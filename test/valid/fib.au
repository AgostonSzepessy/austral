;; -*- mode: lisp -*-

(defun fib ((n i32)) i32
  (if (austral.kernel:< n 2)
      n
      (+ (fib (- n 1))
         (fib (- n 2)))))

(defun main () i32
  (let ((n 30))
    (let ((bytes (austral.ext.cffi:foreign-funcall "printf" i32 "fib(%i) = %i\n" n (fib n))))
      (the i32 0))))
